<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:icecore="http://www.icefaces.org/icefaces/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="../components/template.xhtml">

	<ui:define name="content">



		<ice:panelGrid columns="1" width="100%">

			<ice:outputLabel value="Register" styleClass="titlePage" />

			<ice:panelGrid columns="3"
				rendered="#{sessionBean.register.currentUser != null}"
				width="600px;" style="display: block; margin-left: auto; margin-right: auto;">

				<ice:outputLabel value="Email" styleClass="title" />
				<ice:inputText id="email"
					value="#{sessionBean.register.currentUser.login}" styleClass="text">		
					<f:validator for="email" validatorId="emailValidator"/>			
				</ice:inputText>
				<ice:message for="email" styleClass="input" />
				
				<ice:outputLabel value="Password" styleClass="title" />
				<ice:inputSecret
					id="password" 
					value="#{sessionBean.register.password}"
					binding="#{sessionBean.register.passwordComponent}"
					styleClass="text" />
				<ice:outputText />

				<ice:outputLabel value="Repeat Password" styleClass="title" />
				<ice:inputSecret id="repeatPassword"
					value="#{sessionBean.register.passwordRepeat}" styleClass="text"
					required="true" requiredMessage="Field can not be empty">
					<f:validator for="repeatPassword" validatorId="passwordValidator"/>
					<f:attribute name="passwordComponent" value="#{sessionBean.register.passwordComponent}" />
				</ice:inputSecret>	
				<ice:message for="repeatPassword" styleClass="input" />

				<ice:outputLabel value="Name" styleClass="title" />
				<ice:inputText id="userName"
					value="#{sessionBean.register.currentUser.name}" 
					styleClass="text" required="true" requiredMessage="Field can not be empty">
				</ice:inputText>
				<ice:message for="userName" styleClass="input" />

				<ice:outputText />
				<ice:commandButton value="Register"
					actionListener="#{sessionBean.register.listenerSaveUser}" />
				<!-- 		
				<ice:column>
					<ice:commandButton value="Clean"
						actionListener="#{sessionBean.register.listenerClean}" />
					<ice:commandButton value="Register"
						actionListener="#{sessionBean.register.listenerSaveUser}"/>
				</ice:column>
				 -->
				<ice:outputText />

			</ice:panelGrid>

		</ice:panelGrid>



	</ui:define>

</ui:composition>
